<div id="result">
	<h2>Result</h2>

	<div class="step" ng-repeat="step in improvementSteps">
		<p>{{step.data.improvementData.stepInfo.message}}</p>
		<div ng-if="step.type === 'goal-function'">
			<p class="math">
					<span>f(x)=</span>
					<span ng-repeat="variable in step.data.fx | filter:notZero">
						{{variable.value | variable:$index}}{{variable.name}}<sub>{{variable.index + 1}}</sub>
					</span>
					<span> â†’ min</span>
				</p>
		</div>

		<div ng-if="step.type === 'limitations'">
			<div ng-repeat="row in step.data.matrixA">
				<p class="math">
					<span ng-repeat="variable in row | filter:notZero">
						{{variable.value | variable:$index}}{{variable.name}}<sub>{{variable.index + 1}}</sub>
					</span>
					<span>{{step.data.signs[$index] | sign}}</span>
					<span>{{step.data.matrixB[$index].toString()}}</span>
				</p>
			</div>			
		</div>
	</div>





	<div class="step" ng-repeat="step in solvingSteps">
		<div class="simplex-table">
				<table>
					<thead>
						<tr>
							<th></th>
							<th ng-repeat="variable in step.data.lpp.fx">
								{{variable.name}}<sub>{{variable.index + 1}}</sub>
							</th>
							<th>b<sub>i</sub></th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="row in step.data.lpp.matrixA">
							<td>
								{{step.data.basis[$index].basisVariable.name}}
								<sub>{{step.data.basis[$index].basisVariable.index + 1}}</sub>
							</td>
							<td ng-repeat="variable in row"
								ng-model="variable.value"
								m-format
								ng-class="{around: step.data.solvingElement.rowIndex === $parent.$index && step.data.solvingElement.colIndex === $index}" contenteditable>{{variable.value.toString()}}</td>
							<td contenteditable 
								ng-model="step.data.lpp.matrixB[$index]"
								m-format>
								{{step.data.lpp.matrixB[$index].toString()}}
							</td>
							<td ng-if="step.type === 'first-simplex-table'">
								{{step.data.lpp.fx[step.data.basis[$index].basisVariable._index].value.toString()}}
							</td>
						</tr>
						<tr>
							<td>f(x)</td>
							<td ng-repeat="value in step.data.lpp.fx"
								contenteditable
								ng-model="step.data.lpp.matrixC[$index]"
								m-format
								>{{step.data.lpp.matrixC[$index].toString()}}</td>
							<td ng-model="step.data.anglePoint.value"
								m-format
								contenteditable="true">{{step.data.anglePoint.value.toString()}}</td>
						</tr>
						<tr ng-if="step.type === 'first-simplex-table'">
							<td class="without-borders"></td>
							<td ng-repeat="variable in step.data.lpp.fx">{{variable.value.toString()}}</td>
						</tr>
					</tbody>
				</table>
				<p class="math"></p>
				<button ng-click="recalculateTable()">OK</button>
			</div>
	</div>
</div>